<!-- 安全知识页面 -->
<view class="safety-knowledge-page">
    <!-- 顶部导航 -->
    <view class="header">
        <view class="back-btn" bindtap="goBack">
            <text>← 返回</text>
        </view>
        <view class="title">安全知识</view>
    </view>

    <!-- 页面内容 -->
    <scroll-view class="content" scroll-y="true">
        <!-- 安全知识库介绍 -->
        <view class="intro-section">
            <view class="intro-card">
                <view class="intro-header">
                    <text class="intro-icon">📚</text>
                    <text class="intro-title">安全生产知识库</text>
                </view>
                <text class="intro-desc">欢迎访问320国道余杭华坞至富阳高桥段工程项目安全知识库，这里有丰富的安全学习资料供您学习。</text>
            </view>
        </view>

        <!-- 安全知识分类 -->
        <view class="categories-section">
            <view class="section-title">安全知识分类</view>
            <view class="categories-grid">
                <!-- 消防安全 -->
                <view class="category-item fire" bindtap="showCategory" data-category="fire">
                    <view class="category-icon">🔥</view>
                    <text class="category-name">消防安全</text>
                </view>

                <!-- 用电安全 -->
                <view class="category-item electric" bindtap="showCategory" data-category="electric">
                    <view class="category-icon">⚡</view>
                    <text class="category-name">用电安全</text>
                </view>

                <!-- 设备安全 -->
                <view class="category-item mechanical" bindtap="showCategory" data-category="mechanical">
                    <view class="category-icon">⚙️</view>
                    <text class="category-name">设备安全</text>
                </view>

                <!-- 高处作业 -->
                <view class="category-item height" bindtap="showCategory" data-category="height">
                    <view class="category-icon">🏔️</view>
                    <text class="category-name">高处作业</text>
                </view>

                <!-- 临边防护 -->
                <view class="category-item edge" bindtap="showCategory" data-category="edge">
                    <view class="category-icon">📏</view>
                    <text class="category-name">临边防护</text>
                </view>

                <!-- 环境保护 -->
                <view class="category-item environment" bindtap="showCategory" data-category="environment">
                    <view class="category-icon">🌿</view>
                    <text class="category-name">环境保护</text>
                </view>

                <!-- 防护装备 -->
                <view class="category-item ppe" bindtap="showCategory" data-category="ppe">
                    <view class="category-icon">👷</view>
                    <text class="category-name">防护装备</text>
                </view>

                <!-- 其他安全 -->
                <view class="category-item other" bindtap="showCategory" data-category="other">
                    <view class="category-icon">➕</view>
                    <text class="category-name">其他安全</text>
                </view>
            </view>
        </view>

        <!-- 知识内容显示区域 -->
        <view class="knowledge-content-section {{showContent ? 'show' : ''}}" wx:if="{{selectedCategory}}">
            <view class="content-header">
                <text class="content-title">{{categoryTitle}}</text>
                <view class="close-btn" bindtap="closeCategory">
                    <text>✕</text>
                </view>
            </view>

            <view class="content-list">
                <view class="knowledge-item" wx:for="{{knowledgeList}}" wx:key="id">
                    <view class="item-header">
                        <text class="item-title">{{item.title}}</text>
                        <text class="item-time">{{item.uploadTime}}</text>
                    </view>
                    <view class="item-content">
                        <text class="content-text">{{item.content}}</text>
                    </view>
                    <view class="item-footer">
                        <text class="item-author">上传人：{{item.uploadedBy}}</text>
                    </view>
                </view>

                <view class="empty-content" wx:if="{{knowledgeList.length === 0}}">
                    <text class="empty-text">该分类暂无安全知识内容。</text>
                </view>
            </view>
        </view>

        <!-- 安全须知 -->
        <view class="notice-section">
            <view class="section-title">安全须知</view>
            <view class="notice-card">
                <view class="notice-item">
                    <text class="notice-icon">⚠️</text>
                    <text class="notice-text">进入施工现场必须佩戴安全帽</text>
                </view>
                <view class="notice-item">
                    <text class="notice-icon">👷</text>
                    <text class="notice-text">高空作业必须系好安全带</text>
                </view>
                <view class="notice-item">
                    <text class="notice-icon">🔥</text>
                    <text class="notice-text">严禁在施工现场吸烟和使用明火</text>
                </view>
                <view class="notice-item">
                    <text class="notice-icon">⚡</text>
                    <text class="notice-text">用电设备必须有可靠接地保护</text>
                </view>
                <view class="notice-item">
                    <text class="notice-icon">🚧</text>
                    <text class="notice-text">危险区域必须设置警示标志</text>
                </view>
                <view class="notice-item">
                    <text class="notice-icon">📋</text>
                    <text class="notice-text">特种作业人员必须持证上岗</text>
                </view>
                <view class="notice-item">
                    <text class="notice-icon">🛡️</text>
                    <text class="notice-text">正确使用个人防护用品</text>
                </view>
                <view class="notice-item">
                    <text class="notice-icon">🔍</text>
                    <text class="notice-text">发现隐患及时报告处理</text>
                </view>
            </view>
        </view>
    </scroll-view>
</view>